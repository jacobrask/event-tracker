!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Scribe",[],e):"object"==typeof exports?exports.Scribe=e():t.Scribe=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i={};i.store={getItem:function(t,e){return t.getItem(e)},setItem:function(t,e,n){try{return t.setItem(e,n)}catch(t){return"QuotaExceededError"===t.name||"SecurityError"===t.name||t.name,null}},session:{getItem:function(t){return i.store.getItem(window.sessionStorage,t)},setItem:function(t,e){return i.store.setItem(sessionStorage,t,e)}},local:{getItem:function(t){return i.store.getItem(window.localStorage,t)},setItem:function(t,e){return i.store.setItem(localStorage,t,e)}}},i.copyFields=function(t,e){e=e||{};var n=void 0,r=void 0;for(n in t)/layerX|Y/.test(n)||(r=t[n],e[n]="function"==typeof r?function(t,e){return function(){return e.apply(t,arguments)}}(t,r):r);return e},i.toObject=function(t){var e={},n=void 0;for(n in t)e[n]=t[n];return e},i.genGuid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},i.parseQueryString=function(t){var e={};if(t.length>0){var n="?"===t.charAt(0)?t.substring(1):t;if(n.length>0)for(var r=n.split("&"),o=0;o<r.length;o++)if(r[o].length>0){var i=r[o].split("=");try{var a=decodeURIComponent(i[0]),u=i.length>1?decodeURIComponent(i[1]):"true";e[a]=u}catch(t){}}}return e},i.unparseQueryString=function(t){var e=[],n=void 0,r=void 0;for(n in t)t.hasOwnProperty&&!t.hasOwnProperty(n)||(r=t[n],e.push(encodeURIComponent(n)+"="+encodeURIComponent(r)));var o=e.join("&");return o.length>0?"?"+o:""},i.size=function(t){if(void 0===t)return 0;if(t instanceof Array)return t.length;if(t instanceof Object){var e=0;for(var n in t)t.hasOwnProperty&&!t.hasOwnProperty(n)||++e;return e}return 1},i.mapJson=function(t,e){var n=void 0,r=void 0;if(t instanceof Array){n=[];for(var o=0;o<t.length;o++)r=i.mapJson(t[o],e),i.size(r)>0&&n.push(r);return n}if(t instanceof Object){n={};for(var a in t)r=i.mapJson(t[a],e),i.size(r)>0&&(n[a]=r);return n}return e(t)},i.jsonify=function(t){return i.mapJson(t,function(t){if(""!==t){var e=void 0;try{e=JSON.parse(t)}catch(n){e=t}return e}})},i.undup=function(t,e){e=e||250;var n=0;return function(){var r=(new Date).getTime();if(r-n>e)return n=r,t.apply(this,arguments)}},i.parseUrl=function(t){var e=document.createElement("a");return e.href=t,""===e.host&&(e.href=e.href),{hash:e.hash,host:e.host,hostname:e.hostname,pathname:e.pathname,protocol:e.protocol,query:i.parseQueryString(e.search)}},i.unparseUrl=function(t){return(t.protocol||"")+"//"+(t.host||"")+(t.pathname||"")+i.unparseQueryString(t.query)+(t.hash||"")},i.isSamePage=function(t,e){return t=t instanceof String?i.parseUrl(t):t,e=e instanceof String?i.parseUrl(e):e,t.protocol===e.protocol&&t.host===e.host&&t.pathname===e.pathname&&(0,o.default)(t.query,e.query)},i.qualifyUrl=function(t){var e=document.createElement("div");return e.innerHTML='<a href="'+function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")}(t)+'">x</a>',e.firstChild.href},i.padLeft=function(t,e,n){var r=void 0!==n?n:"0",o=new Array(1+e).join(r);return(o+t).slice(-o.length)},e.default=i,t.exports=e.default},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(t,n){function r(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function i(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function c(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function s(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function f(t,e){return null==t?void 0:t[e]}function l(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function d(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function h(t,e){return function(n){return t(e(n))}}function v(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function p(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function y(){this.__data__=Ze?Ze(null):{}}function g(t){return this.has(t)&&delete this.__data__[t]}function b(t){var e=this.__data__;if(Ze){var n=e[t];return n===Bt?void 0:n}return Ce.call(e,t)?e[t]:void 0}function m(t){var e=this.__data__;return Ze?void 0!==e[t]:Ce.call(e,t)}function _(t,e){return this.__data__[t]=Ze&&void 0===e?Bt:e,this}function w(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function j(){this.__data__=[]}function O(t){var e=this.__data__,n=R(e,t);return!(n<0)&&(n==e.length-1?e.pop():Fe.call(e,n,1),!0)}function k(t){var e=this.__data__,n=R(e,t);return n<0?void 0:e[n][1]}function S(t){return R(this.__data__,t)>-1}function x(t,e){var n=this.__data__,r=R(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function A(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function E(){this.__data__={hash:new p,map:new(Je||w),string:new p}}function T(t){return ht(this,t).delete(t)}function I(t){return ht(this,t).get(t)}function P(t){return ht(this,t).has(t)}function D(t,e){return ht(this,t).set(t,e),this}function C(t){this.__data__=new w(t)}function M(){this.__data__=new w}function L(t){return this.__data__.delete(t)}function N(t){return this.__data__.get(t)}function z(t){return this.__data__.has(t)}function W(t,e){var n=this.__data__;if(n instanceof w){var r=n.__data__;if(!Je||r.length<Ut-1)return r.push([t,e]),this;n=this.__data__=new A(r)}return n.set(t,e),this}function U(t,e){var n=fn(t)||xt(t)?s(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!Ce.call(t,i)||o&&("length"==i||bt(i,r))||n.push(i);return n}function B(t,e,n){(void 0===n||St(t[e],n))&&("number"!=typeof e||void 0!==n||e in t)||(t[e]=n)}function $(t,e,n){var r=t[e];Ce.call(t,e)&&St(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function R(t,e){for(var n=t.length;n--;)if(St(t[n][0],e))return n;return-1}function F(t,e){return t&&ft(e,Lt(e),t)}function V(t,e,n,r,o,i,u){var c;if(r&&(c=i?r(t,o,i,u):r(t)),void 0!==c)return c;if(!Pt(t))return t;var s=fn(t);if(s){if(c=pt(t),!e)return st(t,c)}else{var f=sn(t),d=f==Ht||f==Xt;if(ln(t))return et(t,e);if(f==Jt||f==Rt||d&&!i){if(l(t))return i?t:{};if(c=yt(d?{}:t),!e)return lt(t,F(c,t))}else{if(!ge[f])return i?t:{};c=gt(t,f,V,e)}}u||(u=new C);var h=u.get(t);if(h)return h;if(u.set(t,c),!s)var v=n?dt(t):Lt(t);return a(v||t,function(o,i){v&&(i=o,o=t[i]),$(c,i,V(o,e,n,r,i,t,u))}),c}function H(t){return Pt(t)?$e(t):{}}function X(t,e,n){var r=e(t);return fn(t)?r:u(r,n(t))}function K(t){return Le.call(t)}function q(t){return!(!Pt(t)||wt(t))&&(Tt(t)||l(t)?Ne:ve).test(kt(t))}function J(t){return Dt(t)&&It(t.length)&&!!ye[Le.call(t)]}function G(t){if(!jt(t))return Xe(t);var e=[];for(var n in Object(t))Ce.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Q(t){if(!Pt(t))return Ot(t);var e=jt(t),n=[];for(var r in t)("constructor"!=r||!e&&Ce.call(t,r))&&n.push(r);return n}function Y(t,e,n,r,o){if(t!==e){if(!fn(e)&&!dn(e))var i=Q(e);a(i||e,function(a,u){if(i&&(u=a,a=e[u]),Pt(a))o||(o=new C),Z(t,e,u,n,Y,r,o);else{var c=r?r(t[u],a,u+"",t,e,o):void 0;void 0===c&&(c=a),B(t,u,c)}})}}function Z(t,e,n,r,o,i,a){var u=t[n],c=e[n],s=a.get(c);if(s)return void B(t,n,s);var f=i?i(u,c,n+"",t,e,a):void 0,l=void 0===f;l&&(f=c,fn(c)||dn(c)?fn(u)?f=u:Et(u)?f=st(u):(l=!1,f=V(c,!0)):Ct(c)||xt(c)?xt(u)?f=Mt(u):!Pt(u)||r&&Tt(u)?(l=!1,f=V(c,!0)):f=u:l=!1),l&&(a.set(c,f),o(f,c,r,i,a),a.delete(c)),B(t,n,f)}function tt(t,e){return e=Ke(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=Ke(n.length-e,0),a=Array(o);++r<o;)a[r]=n[e+r];r=-1;for(var u=Array(e+1);++r<e;)u[r]=n[r];return u[e]=a,i(t,this,u)}}function et(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function nt(t){var e=new t.constructor(t.byteLength);return new Ue(e).set(new Ue(t)),e}function rt(t,e){var n=e?nt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function ot(t,e,n){return c(e?n(d(t),!0):d(t),r,new t.constructor)}function it(t){var e=new t.constructor(t.source,he.exec(t));return e.lastIndex=t.lastIndex,e}function at(t,e,n){return c(e?n(v(t),!0):v(t),o,new t.constructor)}function ut(t){return un?Object(un.call(t)):{}}function ct(t,e){var n=e?nt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function st(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function ft(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=r?r(n[a],t[a],a,n,t):void 0;$(n,a,void 0===u?t[a]:u)}return n}function lt(t,e){return ft(t,cn(t),e)}function dt(t){return X(t,Lt,cn)}function ht(t,e){var n=t.__data__;return _t(e)?n["string"==typeof e?"string":"hash"]:n.map}function vt(t,e){var n=f(t,e);return q(n)?n:void 0}function pt(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Ce.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function yt(t){return"function"!=typeof t.constructor||jt(t)?{}:H(Be(t))}function gt(t,e,n,r){var o=t.constructor;switch(e){case ee:return nt(t);case Ft:case Vt:return new o(+t);case ne:return rt(t,r);case re:case oe:case ie:case ae:case ue:case ce:case se:case fe:case le:return ct(t,r);case Kt:return ot(t,r,n);case qt:case Yt:return new o(t);case Gt:return it(t);case Qt:return at(t,r,n);case Zt:return ut(t)}}function bt(t,e){return!!(e=null==e?$t:e)&&("number"==typeof t||pe.test(t))&&t>-1&&t%1==0&&t<e}function mt(t,e,n){if(!Pt(n))return!1;var r=typeof e;return!!("number"==r?At(n)&&bt(e,n.length):"string"==r&&e in n)&&St(n[e],t)}function _t(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function wt(t){return!!Pe&&Pe in t}function jt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Te)}function Ot(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function kt(t){if(null!=t){try{return De.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function St(t,e){return t===e||t!==t&&e!==e}function xt(t){return Et(t)&&Ce.call(t,"callee")&&(!Re.call(t,"callee")||Le.call(t)==Rt)}function At(t){return null!=t&&It(t.length)&&!Tt(t)}function Et(t){return Dt(t)&&At(t)}function Tt(t){var e=Pt(t)?Le.call(t):"";return e==Ht||e==Xt}function It(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=$t}function Pt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Dt(t){return!!t&&"object"==typeof t}function Ct(t){if(!Dt(t)||Le.call(t)!=Jt||l(t))return!1;var e=Be(t);if(null===e)return!0;var n=Ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Me}function Mt(t){return ft(t,Nt(t))}function Lt(t){return At(t)?U(t):G(t)}function Nt(t){return At(t)?U(t,!0):Q(t)}function zt(){return[]}function Wt(){return!1}var Ut=200,Bt="__lodash_hash_undefined__",$t=9007199254740991,Rt="[object Arguments]",Ft="[object Boolean]",Vt="[object Date]",Ht="[object Function]",Xt="[object GeneratorFunction]",Kt="[object Map]",qt="[object Number]",Jt="[object Object]",Gt="[object RegExp]",Qt="[object Set]",Yt="[object String]",Zt="[object Symbol]",te="[object WeakMap]",ee="[object ArrayBuffer]",ne="[object DataView]",re="[object Float32Array]",oe="[object Float64Array]",ie="[object Int8Array]",ae="[object Int16Array]",ue="[object Int32Array]",ce="[object Uint8Array]",se="[object Uint8ClampedArray]",fe="[object Uint16Array]",le="[object Uint32Array]",de=/[\\^$.*+?()[\]{}|]/g,he=/\w*$/,ve=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,ye={};ye[re]=ye[oe]=ye[ie]=ye[ae]=ye[ue]=ye[ce]=ye[se]=ye[fe]=ye[le]=!0,ye[Rt]=ye["[object Array]"]=ye[ee]=ye[Ft]=ye[ne]=ye[Vt]=ye["[object Error]"]=ye[Ht]=ye[Kt]=ye[qt]=ye[Jt]=ye[Gt]=ye[Qt]=ye[Yt]=ye[te]=!1;var ge={};ge[Rt]=ge["[object Array]"]=ge[ee]=ge[ne]=ge[Ft]=ge[Vt]=ge[re]=ge[oe]=ge[ie]=ge[ae]=ge[ue]=ge[Kt]=ge[qt]=ge[Jt]=ge[Gt]=ge[Qt]=ge[Yt]=ge[Zt]=ge[ce]=ge[se]=ge[fe]=ge[le]=!0,ge["[object Error]"]=ge[Ht]=ge[te]=!1;var be="object"==typeof t&&t&&t.Object===Object&&t,me="object"==typeof self&&self&&self.Object===Object&&self,_e=be||me||Function("return this")(),we="object"==typeof e&&e&&!e.nodeType&&e,je=we&&"object"==typeof n&&n&&!n.nodeType&&n,Oe=je&&je.exports===we,ke=Oe&&be.process,Se=function(){try{return ke&&ke.binding("util")}catch(t){}}(),xe=Se&&Se.isTypedArray,Ae=Array.prototype,Ee=Function.prototype,Te=Object.prototype,Ie=_e["__core-js_shared__"],Pe=function(){var t=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),De=Ee.toString,Ce=Te.hasOwnProperty,Me=De.call(Object),Le=Te.toString,Ne=RegExp("^"+De.call(Ce).replace(de,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=Oe?_e.Buffer:void 0,We=_e.Symbol,Ue=_e.Uint8Array,Be=h(Object.getPrototypeOf,Object),$e=Object.create,Re=Te.propertyIsEnumerable,Fe=Ae.splice,Ve=Object.getOwnPropertySymbols,He=ze?ze.isBuffer:void 0,Xe=h(Object.keys,Object),Ke=Math.max,qe=vt(_e,"DataView"),Je=vt(_e,"Map"),Ge=vt(_e,"Promise"),Qe=vt(_e,"Set"),Ye=vt(_e,"WeakMap"),Ze=vt(Object,"create"),tn=kt(qe),en=kt(Je),nn=kt(Ge),rn=kt(Qe),on=kt(Ye),an=We?We.prototype:void 0,un=an?an.valueOf:void 0;p.prototype.clear=y,p.prototype.delete=g,p.prototype.get=b,p.prototype.has=m,p.prototype.set=_,w.prototype.clear=j,w.prototype.delete=O,w.prototype.get=k,w.prototype.has=S,w.prototype.set=x,A.prototype.clear=E,A.prototype.delete=T,A.prototype.get=I,A.prototype.has=P,A.prototype.set=D,C.prototype.clear=M,C.prototype.delete=L,C.prototype.get=N,C.prototype.has=z,C.prototype.set=W;var cn=Ve?h(Ve,Object):zt,sn=K;(qe&&sn(new qe(new ArrayBuffer(1)))!=ne||Je&&sn(new Je)!=Kt||Ge&&"[object Promise]"!=sn(Ge.resolve())||Qe&&sn(new Qe)!=Qt||Ye&&sn(new Ye)!=te)&&(sn=function(t){var e=Le.call(t),n=e==Jt?t.constructor:void 0,r=n?kt(n):void 0;if(r)switch(r){case tn:return ne;case en:return Kt;case nn:return"[object Promise]";case rn:return Qt;case on:return te}return e});var fn=Array.isArray,ln=He||Wt,dn=xe?function(t){return function(e){return t(e)}}(xe):J,hn=function(t){return tt(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&mt(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,i)}return e})}(function(t,e,n){Y(t,e,n)});n.exports=hn}).call(e,n(1),n(2)(t))},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o={};o.removeElement=function(t,e,n){var o=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r(o))},o.toArray=function(t){var e=[],n=void 0,r=t.length;for(e.length=t.length,n=0;n<r;n++)e[n]=t[n];return e},o.contains=function(t,e){return o.exists(t,function(t){return t===e})},o.diff=function(t,e){var n=void 0,r=void 0,i=[];for(n=0;n<t.length;n++)r=t[n],o.contains(e,r)||i.push(r);return i},o.exists=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1},o.map=function(t,e){var n=[],r=void 0;for(r=0;r<t.length;r++)n.push(e(t[r]));return n},e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTracker=e.ConsoleTracker=e.Scribe=void 0;var o=n(6),i=r(o),a=n(15),u=r(a),c=n(16),s=r(c);e.Scribe=i.default,e.ConsoleTracker=u.default,e.HttpTracker=s.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),u=r(a),c=n(8),s=r(c),f=n(4),l=r(f),d=n(9),h=r(d),v=n(13),p=r(v),y=n(3),g=r(y),b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(o(this,t),!(this instanceof t))return new t(e,n);this.rootEvent={},this.options=e,this.context=n,this.user=r,this.content=i,this.trackerInstance=e.tracker,this.initialize()}return i(t,[{key:"options",value:function(){return this.options}},{key:"context",value:function(){return this.context}},{key:"content",value:function(){return this.content}},{key:"user",value:function(){return this.user}},{key:"setUser",value:function(t){this.user=t}},{key:"initialize",value:function(){var t=this;this.options=(0,g.default)({waitOnTracker:!1,trackPageViews:!1,trackClicks:!1,trackHashChanges:!1,trackEngagement:!1,trackElementClicks:!1,trackRedirects:!1,trackSubmissions:!1,clickElementSelectors:["a"]},this.options),this.rootEvent=(0,g.default)({sessionId:h.default.getSessionId(),clientId:h.default.getClientId()},this.rootEvent),this.javascriptRedirect=!0,t.oldHash=document.location.hash;var e=function(e){if(t.oldHash!==e){var n=e.substring(1),r=document.getElementById(n),o=(0,g.default)({url:u.default.parseUrl(document.location)},r?s.default.getNodeDescriptor(r):{id:n});t.track("jump",{eventCustomData:{target:o},source:{url:(0,g.default)(u.default.parseUrl(document.location),{hash:t.oldHash})}}),t.oldHash=e}};this.options.trackPageViews&&p.default.onready(function(){t.pageview()}),this.options.trackClicks&&p.default.onready(function(){p.default.onevent(document.body,"click",!0,function(e){var n=s.default.getAncestors(e.target);l.default.exists(n,function(t){return"A"===t.tagName})||t.track("click",{eventCustomData:{target:s.default.getNodeDescriptor(e.target)}})})}),this.options.trackHashChanges&&p.default.onhashchange(function(t){e(t.hash)}),this.options.trackEngagement&&p.default.onengage(function(e,n){t.track("engage",{eventCustomData:{target:s.default.getNodeDescriptor(e.target),duration:n.timeStamp-e.timeStamp}})}),this.options.trackElementClicks&&s.default.monitorElements(this.options.clickElementSelectors,function(n){p.default.onevent(n,"click",!0,function(r){var o=r.target;t.javascriptRedirect=!1,setTimeout(function(){t.javascriptRedirect=!0},500);var i=u.default.parseUrl(n.href),a={eventCustomData:{target:(0,g.default)({url:i},s.default.getNodeDescriptor(n))}};u.default.isSamePage(i,document.location.href)?(t.oldHash=void 0,e(document.location.hash)):i.hostname===document.location.hostname?t.trackLater("click",a):(t.options.waitOnTracker&&r.preventDefault(),t.track("click",a,function(){t.javascriptRedirect=!1,t.options.waitOnTracker&&s.default.simulateMouseEvent(o,"click")}))})}),this.options.trackRedirects&&p.default.onexit(function(e){t.javascriptRedirect&&t.trackLater("redirect")}),this.options.trackSubmissions&&p.default.onsubmit(function(e){e.form&&(e.form.formId||(e.form.formId=u.default.genGuid()),t.trackLater("formsubmit",{eventCustomData:{form:(0,g.default)({formId:e.form.formId},s.default.getFormData(e.form))}}))}),this._loadOutbox(),this._sendOutbox()}},{key:"_saveOutbox",value:function(){u.default.store.local.setItem("scribe_outbox",JSON.stringify(this.outbox))}},{key:"_loadOutbox",value:function(){this.outbox=JSON.parse(u.default.store.local.getItem("scribe_outbox")||"[]")}},{key:"_sendOutbox",value:function(){var t=[],e=!0,n=!1,r=void 0;try{for(var o,i=this.outbox[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value,c=a.value.type;if(l.default.contains(["browser:redirect","browser:formSubmit"],c)&&(a.value.eventCustomData=a.value.eventCustomData||{},a.value.eventCustomData.target=u.default.jsonify((0,g.default)(a.value.eventCustomData.target||{},{url:u.default.parseUrl(document.location)}))),"browser:redirect"===c)try{u.default.unparseUrl(a.value.source.url)===u.default.unparseUrl(a.value.eventCustomData.target.url)&&(a.value.type="browser:reload")}catch(t){window.onerror&&window.onerror(t)}t.push(a.value)}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}if(t.length>0)try{this.trackerInstance.tracker({value:t})}catch(t){window.onerror&&window.onerror(t)}this.outbox=[],this._saveOutbox()}},{key:"_createEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.eventId=u.default.genGuid(),e.eventTypeVersion=1,e.clientTimestamp=e.clientTimestamp||(new Date).toISOString(),e.eventType="browser:"+t,e.source=(0,g.default)(h.default.getPageloadData(),e.source||{});var n=(0,g.default)({context:this.context,user:this.user,content:this.content},this.rootEvent);return u.default.jsonify((0,g.default)(n,e))}},{key:"track",value:function(t,e,n,r){this.trackerInstance.tracker({value:this._createEvent(t,e),success:n,failure:r})}},{key:"trackLater",value:function(t,e,n){return void 0===n?(this.outbox.push({value:this._createEvent(t,e)}),n=this.outbox.length-1):this.outbox[n]={value:this._createEvent(t,e)},this._saveOutbox(),n}},{key:"pageview",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location,arguments[1]),e=arguments[2];this.track("pageview",{},t,e)}}]),t}();e.default=b,t.exports=e.default},function(t,e,n){(function(t,n){function r(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function o(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function i(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function a(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function u(t,e){return t.has(e)}function c(t,e){return null==t?void 0:t[e]}function s(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function f(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function d(){this.__data__=ke?ke(null):{},this.size=0}function h(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function v(t){var e=this.__data__;if(ke){var n=e[t];return n===bt?void 0:n}return ae.call(e,t)?e[t]:void 0}function p(t){var e=this.__data__;return ke?void 0!==e[t]:ae.call(e,t)}function y(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ke&&void 0===e?bt:e,this}function g(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function b(){this.__data__=[],this.size=0}function m(t){var e=this.__data__,n=U(e,t);return!(n<0)&&(n==e.length-1?e.pop():ve.call(e,n,1),--this.size,!0)}function _(t){var e=this.__data__,n=U(e,t);return n<0?void 0:e[n][1]}function w(t){return U(this.__data__,t)>-1}function j(t,e){var n=this.__data__,r=U(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function O(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function k(){this.size=0,this.__data__={hash:new l,map:new(_e||g),string:new l}}function S(t){var e=Y(this,t).delete(t);return this.size-=e?1:0,e}function x(t){return Y(this,t).get(t)}function A(t){return Y(this,t).has(t)}function E(t,e){var n=Y(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function T(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new O;++e<n;)this.add(t[e])}function I(t){return this.__data__.set(t,bt),this}function P(t){return this.__data__.has(t)}function D(t){var e=this.__data__=new g(t);this.size=e.size}function C(){this.__data__=new g,this.size=0}function M(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function L(t){return this.__data__.get(t)}function N(t){return this.__data__.has(t)}function z(t,e){var n=this.__data__;if(n instanceof g){var r=n.__data__;if(!_e||r.length<gt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new O(r)}return n.set(t,e),this.size=n.size,this}function W(t,e){var n=Le(t),r=!n&&Me(t),o=!n&&!r&&Ne(t),i=!n&&!r&&!o&&ze(t),u=n||r||o||i,c=u?a(t.length,String):[],s=c.length;for(var f in t)!e&&!ae.call(t,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||et(f,s))||c.push(f);return c}function U(t,e){for(var n=t.length;n--;)if(ut(t[n][0],e))return n;return-1}function B(t,e,n){var r=e(t);return Le(t)?r:o(r,n(t))}function $(t){return null==t?void 0===t?Ut:Dt:pe&&pe in Object(t)?tt(t):it(t)}function R(t){return ht(t)&&$(t)==jt}function F(t,e,n,r,o){return t===e||(null==t||null==e||!ht(t)&&!ht(e)?t!==t&&e!==e:V(t,e,n,r,F,o))}function V(t,e,n,r,o,i){var a=Le(t),u=Le(e),c=a?Ot:Ce(t),s=u?Ot:Ce(e);c=c==jt?Ct:c,s=s==jt?Ct:s;var f=c==Ct,l=s==Ct,d=c==s;if(d&&Ne(t)){if(!Ne(e))return!1;a=!0,f=!1}if(d&&!f)return i||(i=new D),a||ze(t)?q(t,e,n,r,o,i):J(t,e,c,n,r,o,i);if(!(n&mt)){var h=f&&ae.call(t,"__wrapped__"),v=l&&ae.call(e,"__wrapped__");if(h||v){var p=h?t.value():t,y=v?e.value():e;return i||(i=new D),o(p,y,n,r,i)}}return!!d&&(i||(i=new D),G(t,e,n,r,o,i))}function H(t){return!(!dt(t)||rt(t))&&(ft(t)?se:Ft).test(at(t))}function X(t){return ht(t)&&lt(t.length)&&!!Ht[$(t)]}function K(t){if(!ot(t))return be(t);var e=[];for(var n in Object(t))ae.call(t,n)&&"constructor"!=n&&e.push(n);return e}function q(t,e,n,r,o,a){var c=n&mt,s=t.length,f=e.length;if(s!=f&&!(c&&f>s))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var d=-1,h=!0,v=n&_t?new T:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var p=t[d],y=e[d];if(r)var g=c?r(y,p,d,e,t,a):r(p,y,d,t,e,a);if(void 0!==g){if(g)continue;h=!1;break}if(v){if(!i(e,function(t,e){if(!u(v,e)&&(p===t||o(p,t,n,r,a)))return v.push(e)})){h=!1;break}}else if(p!==y&&!o(p,y,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function J(t,e,n,r,o,i,a){switch(n){case $t:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Bt:return!(t.byteLength!=e.byteLength||!i(new de(t),new de(e)));case St:case xt:case Pt:return ut(+t,+e);case At:return t.name==e.name&&t.message==e.message;case Lt:case zt:return t==e+"";case It:var u=s;case Nt:var c=r&mt;if(u||(u=f),t.size!=e.size&&!c)return!1;var l=a.get(t);if(l)return l==e;r|=_t,a.set(t,e);var d=q(u(t),u(e),r,o,i,a);return a.delete(t),d;case Wt:if(Pe)return Pe.call(t)==Pe.call(e)}return!1}function G(t,e,n,r,o,i){var a=n&mt,u=Q(t),c=u.length;if(c!=Q(e).length&&!a)return!1;for(var s=c;s--;){var f=u[s];if(!(a?f in e:ae.call(e,f)))return!1}var l=i.get(t);if(l&&i.get(e))return l==e;var d=!0;i.set(t,e),i.set(e,t);for(var h=a;++s<c;){f=u[s];var v=t[f],p=e[f];if(r)var y=a?r(p,v,f,e,t,i):r(v,p,f,t,e,i);if(!(void 0===y?v===p||o(v,p,n,r,i):y)){d=!1;break}h||(h="constructor"==f)}if(d&&!h){var g=t.constructor,b=e.constructor;g!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b)&&(d=!1)}return i.delete(t),i.delete(e),d}function Q(t){return B(t,vt,De)}function Y(t,e){var n=t.__data__;return nt(e)?n["string"==typeof e?"string":"hash"]:n.map}function Z(t,e){var n=c(t,e);return H(n)?n:void 0}function tt(t){var e=ae.call(t,pe),n=t[pe];try{t[pe]=void 0;var r=!0}catch(t){}var o=ce.call(t);return r&&(e?t[pe]=n:delete t[pe]),o}function et(t,e){return!!(e=null==e?wt:e)&&("number"==typeof t||Vt.test(t))&&t>-1&&t%1==0&&t<e}function nt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function rt(t){return!!ue&&ue in t}function ot(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||re)}function it(t){return ce.call(t)}function at(t){if(null!=t){try{return ie.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ut(t,e){return t===e||t!==t&&e!==e}function ct(t){return null!=t&&lt(t.length)&&!ft(t)}function st(t,e){return F(t,e)}function ft(t){if(!dt(t))return!1;var e=$(t);return e==Et||e==Tt||e==kt||e==Mt}function lt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=wt}function dt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ht(t){return null!=t&&"object"==typeof t}function vt(t){return ct(t)?W(t):K(t)}function pt(){return[]}function yt(){return!1}var gt=200,bt="__lodash_hash_undefined__",mt=1,_t=2,wt=9007199254740991,jt="[object Arguments]",Ot="[object Array]",kt="[object AsyncFunction]",St="[object Boolean]",xt="[object Date]",At="[object Error]",Et="[object Function]",Tt="[object GeneratorFunction]",It="[object Map]",Pt="[object Number]",Dt="[object Null]",Ct="[object Object]",Mt="[object Proxy]",Lt="[object RegExp]",Nt="[object Set]",zt="[object String]",Wt="[object Symbol]",Ut="[object Undefined]",Bt="[object ArrayBuffer]",$t="[object DataView]",Rt=/[\\^$.*+?()[\]{}|]/g,Ft=/^\[object .+?Constructor\]$/,Vt=/^(?:0|[1-9]\d*)$/,Ht={};Ht["[object Float32Array]"]=Ht["[object Float64Array]"]=Ht["[object Int8Array]"]=Ht["[object Int16Array]"]=Ht["[object Int32Array]"]=Ht["[object Uint8Array]"]=Ht["[object Uint8ClampedArray]"]=Ht["[object Uint16Array]"]=Ht["[object Uint32Array]"]=!0,Ht[jt]=Ht[Ot]=Ht[Bt]=Ht[St]=Ht[$t]=Ht[xt]=Ht[At]=Ht[Et]=Ht[It]=Ht[Pt]=Ht[Ct]=Ht[Lt]=Ht[Nt]=Ht[zt]=Ht["[object WeakMap]"]=!1;var Xt="object"==typeof t&&t&&t.Object===Object&&t,Kt="object"==typeof self&&self&&self.Object===Object&&self,qt=Xt||Kt||Function("return this")(),Jt="object"==typeof e&&e&&!e.nodeType&&e,Gt=Jt&&"object"==typeof n&&n&&!n.nodeType&&n,Qt=Gt&&Gt.exports===Jt,Yt=Qt&&Xt.process,Zt=function(){try{return Yt&&Yt.binding&&Yt.binding("util")}catch(t){}}(),te=Zt&&Zt.isTypedArray,ee=Array.prototype,ne=Function.prototype,re=Object.prototype,oe=qt["__core-js_shared__"],ie=ne.toString,ae=re.hasOwnProperty,ue=function(){var t=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ce=re.toString,se=RegExp("^"+ie.call(ae).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=Qt?qt.Buffer:void 0,le=qt.Symbol,de=qt.Uint8Array,he=re.propertyIsEnumerable,ve=ee.splice,pe=le?le.toStringTag:void 0,ye=Object.getOwnPropertySymbols,ge=fe?fe.isBuffer:void 0,be=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),me=Z(qt,"DataView"),_e=Z(qt,"Map"),we=Z(qt,"Promise"),je=Z(qt,"Set"),Oe=Z(qt,"WeakMap"),ke=Z(Object,"create"),Se=at(me),xe=at(_e),Ae=at(we),Ee=at(je),Te=at(Oe),Ie=le?le.prototype:void 0,Pe=Ie?Ie.valueOf:void 0;l.prototype.clear=d,l.prototype.delete=h,l.prototype.get=v,l.prototype.has=p,l.prototype.set=y,g.prototype.clear=b,g.prototype.delete=m,g.prototype.get=_,g.prototype.has=w,g.prototype.set=j,O.prototype.clear=k,O.prototype.delete=S,O.prototype.get=x,O.prototype.has=A,O.prototype.set=E,T.prototype.add=T.prototype.push=I,T.prototype.has=P,D.prototype.clear=C,D.prototype.delete=M,D.prototype.get=L,D.prototype.has=N,D.prototype.set=z;var De=ye?function(t){return null==t?[]:(t=Object(t),r(ye(t),function(e){return he.call(t,e)}))}:pt,Ce=$;(me&&Ce(new me(new ArrayBuffer(1)))!=$t||_e&&Ce(new _e)!=It||we&&"[object Promise]"!=Ce(we.resolve())||je&&Ce(new je)!=Nt||Oe&&"[object WeakMap]"!=Ce(new Oe))&&(Ce=function(t){var e=$(t),n=e==Ct?t.constructor:void 0,r=n?at(n):"";if(r)switch(r){case Se:return $t;case xe:return It;case Ae:return"[object Promise]";case Ee:return Nt;case Te:return"[object WeakMap]"}return e});var Me=R(function(){return arguments}())?R:function(t){return ht(t)&&ae.call(t,"callee")&&!he.call(t,"callee")},Le=Array.isArray,Ne=ge||yt,ze=te?function(t){return function(e){return t(e)}}(te):X;n.exports=st}).call(e,n(1),n(2)(t))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),a=r(i),u=n(0),c=r(u),s={};s.getFormData=function(t){var e={},n=function(t,n){""===t&&(t="anonymous");var r=e[t];null!=r?r instanceof Array?e[t].push(n):e[t]=[r,n]:e[t]=n},r=!0,o=!1,i=void 0;try{for(var a,u=t.elements[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s=c.tagName.toLowerCase();if("input"===s||"textfield"===s)"off"!==(c.getAttribute("autocomplete")||"").toLowerCase()&&"password"!==c.type&&("radio"!==c.type||c.checked)&&n(c.name,c.value);else if("select"===s){var f=c.options[c.selectedIndex];n(c.name,f.value)}}}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return e},s.monitorElements=function(t,e,n){n=n||50;var r=function r(){var i=void 0,a=[],u=void 0;for(i=0;i<t.length;i++)u=document.querySelectorAll(t[i]),a.push.apply(a,o(u));for(i=0;i<a.length;i++){var c=a[i];if(!c.getAttribute("scribe_scanned")){c.setAttribute("scribe_scanned",!0);try{e(c)}catch(t){window.onerror(t)}}}setTimeout(r,n)};setTimeout(r,0)},s.getDataset=function(t){if(void 0!==t.dataset)return c.default.toObject(t.dataset);if(t.attributes){for(var e={},n=t.attributes,r=0;r<n.length;r++){var o=n[r].name,i=n[r].value;0===o.indexOf("data-")&&(o=o.substr("data-".length),e[o]=i)}return e}return{}},s.genCssSelector=function(t){for(var e="";t!==document.body;){var n=t.id,r=t.className.split(" ").join("."),o=t.nodeName.toLowerCase();n&&""!==n&&(n="#"+n),""!==r&&(r="."+r);for(var i=o+n+r,a=t.parentNode,u=1,c=0;c<a.childNodes.length&&a.childNodes[c]!==t;c++){void 0!==a.childNodes[c].tagName&&(u+=1)}""!==e&&(e=">"+e),e=i+":nth-child("+u+")"+e,t=a}return e},s.getNodeDescriptor=function(t){return{id:t.id,selector:s.genCssSelector(t),title:""===t.title?void 0:t.title,data:s.getDataset(t)}},s.getAncestors=function(t){for(var e=t,n=[];e&&e!==document.body;)n.push(e),e=e.parentNode;return n},s.simulateMouseEvent=function(t,e,n){var r={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};n=(0,a.default)({pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},n||{});var o=void 0,i=null;for(var u in r)if(r[u].test(e)){i=u;break}if(!i)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");if(document.createEvent)o=document.createEvent(i),"HTMLEvents"===i?o.initEvent(e,n.bubbles,n.cancelable):o.initMouseEvent(e,n.bubbles,n.cancelable,document.defaultView,n.button,n.pointerX,n.pointerY,n.pointerX,n.pointerY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,t),t.dispatchEvent(o);else{n.clientX=n.pointerX,n.clientY=n.pointerY;var c=document.createEventObject();o=(0,a.default)(c,n);try{t.fireEvent("on"+e,o)}catch(n){t.fireEvent("on"+e)}}return t},e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),o=n(0),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a={};a.getBrowserData=function(){var t=(0,r.detect)();return{ua:navigator.userAgent,name:t&&t.name,version:t&&t.version,platform:t&&t.os,language:navigator.language||navigator.userLanguage||navigator.systemLanguage,plugins:null}},a.getUrlData=function(){var t=document.location;return{hash:t.hash,host:t.host,hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,query:i.default.parseQueryString(t.search)}},a.getDocumentData=function(){return{title:document.title}},a.getReferrerData=function(){return document.referrer&&i.default.parseUrl(document.referrer)||void 0},a.getScreenData=function(){return{height:screen.height,width:screen.width,colorDepth:screen.colorDepth}},a.getLocaleData=function(){var t=new RegExp("([A-Z]+-[0-9]+) \\(([A-Z]+)\\)").exec((new Date).toString()),e=void 0,n=void 0;return t&&t.length>=3&&(e=t[1],n=t[2]),{language:navigator.systemLanguage||navigator.userLanguage||navigator.language,timezone_offset:(new Date).getTimezoneOffset(),gmt_offset:e,timezone:n}},a.getPageloadData=function(){return{url:a.getUrlData(),referrer:a.getReferrerData(),browser:a.getBrowserData(),document:a.getDocumentData(),screen:a.getScreenData(),locale:a.getLocaleData()}},a.getPluginsData=function(){var t=[],e=navigator.plugins,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t.push({name:u.name,description:u.description,filename:u.filename,version:u.version,mimeType:u.length>0?{type:u[0].type,description:u[0].description,suffixes:u[0].suffixes}:void 0})}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t},a.getSessionId=function(){var t=i.default.store.session.getItem("scribe_sid")||i.default.genGuid();return i.default.store.session.setItem("scribe_sid",t),t},a.getClientId=function(){var t=i.default.store.local.getItem("scribe_cid")||i.default.genGuid();return i.default.store.local.setItem("scribe_cid",t),t},e.default=a,t.exports=e.default},function(t,e,n){(function(e){function r(){var t=i();return t||("undefined"!=typeof navigator?a(navigator.userAgent):null)}function o(t){var e=c(),n=e.filter(function(e){return e.rule&&e.rule.test(t)})[0];return n?n.name:null}function i(){return"undefined"==typeof navigator&&void 0!==e?{name:"node",version:e.version.slice(1),os:n(12).type().toLowerCase()}:null}function a(t){var e=u();if(!t)return null;var n=e.map(function(e){var n=e.rule.exec(t),r=n&&n[1].split(/[._]/).slice(0,3);return r&&r.length<3&&(r=r.concat(1==r.length?[0,0]:[0])),n&&{name:e.name,version:r.join(".")}}).filter(Boolean)[0]||null;return n&&(n.os=o(t)),n}function u(){return s([["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/]])}function c(){return s([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]])}function s(t){return t.map(function(t){return{name:t[0],rule:t[1]}})}t.exports={detect:r,detectOS:o,getNodeVersion:i,parseUserAgent:a}}).call(e,n(11))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){p&&h&&(p=!1,h.length?v=h.concat(v):y=-1,v.length&&u())}function u(){if(!p){var t=o(a);p=!0;for(var e=v.length;e;){for(h=v,v=[];++y<e;)h&&h[y].run();y=-1,e=v.length}h=null,p=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function s(){}var f,l,d=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var h,v=[],p=!1,y=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new c(t,e)),1!==v.length||p||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.prependListener=s,d.prependOnceListener=s,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=r(o),a=n(14),u=r(a),c=n(4),s=r(c),f={};f.onready=function(t){null!=document.body?t():setTimeout(function(){f.onready(t)},10)},f.onevent=function(t,e,n,r){var o=function(t){return function(e){e||(e=window.event),e=i.default.copyFields(e),e.target=e.target||e.srcElement,e.keyCode=e.keyCode||e.which||e.charCode,e.which=e.which||e.keyCode,e.charCode="number"==typeof e.which?e.which:e.keyCode,e.timeStamp=e.timeStamp||(new Date).getTime(),e.target&&3===e.target.nodeType&&(e.target=e.target.parentNode);var n=void 0;return e.preventDefault||(e.preventDefault=function(){n=!1}),t(e)||n}}(r);t.addEventListener?t.addEventListener(e,o,n):t.attachEvent&&t.attachEvent("on"+e,o)},f.onexit=function(){var t=!1,e=new u.default,n=function(n){t||(e.dispatch(n),t=!0)};f.onevent(window,"unload",void 0,n);var r=function(t){var e=t.onunload||function(t){};t.onunload=function(t){n(),e(t)}};return r(window),f.onready(function(){r(document.body)}),function(t){e.push(t)}}(),f.onengage=function(){var t=new u.default,e=[];return f.onready(function(){f.onevent(document.body,"mouseover",!0,function(t){e.push(t)}),f.onevent(document.body,"mouseout",!0,function(n){var r=void 0,o=void 0;for(r=e.length-1;r>=0;r--)if(e[r].target===n.target){o=e[r],s.default.removeElement(e,r);break}if(void 0!==o){var i=n.timeStamp-o.timeStamp;i>=1e3&&i<=2e4&&t.dispatch(o,n)}})}),function(e){t.push(e)}}(),f.onhashchange=function(){var t=new u.default,e=document.location.hash,n=function(n){var r=document.location.hash;e!==r&&(e=r,n.hash=r,t.dispatch(n))};return window.onhashchange?f.onevent(window,"hashchange",!1,n):setInterval(function(){n({})},25),function(e){t.push(e)}}(),f.onerror=function(){var t=new u.default;return"function"==typeof window.onerror&&t.push(window.onerror),window.onerror=function(e,n,r){t.dispatch(e,n,r)},function(e){t.push(e)}}(),f.onsubmit=function(){var t=new u.default,e=i.default.undup(function(e){t.dispatch(e)});return f.onready(function(){f.onevent(document.body,"submit",!0,function(t){e(t)}),f.onevent(document.body,"keypress",!1,function(t){if(13===t.keyCode){var n=t.target,r=n.form;r&&(t.form=r,e(t))}}),f.onevent(document.body,"click",!1,function(t){var n=t.target,r=(n.type||"").toLowerCase();!n.form||"submit"!==r&&"button"!==r||(t.form=n.form,e(t))})}),function(e){t.push(e)}}(),e.default=f,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){r(this,t),this.handlers=[],this.onerror=console&&console.log||window.onerror||function(t){}}return o(t,[{key:"push",value:function(t){this.handlers.push(t)}},{key:"dispatch",value:function(){var t=Array.prototype.slice.call(arguments,0),e=void 0;for(e=0;e<this.handlers.length;e++)try{this.handlers[e].apply(null,t)}catch(t){onerror(t)}}}]),t}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){if(r(this,t),!(this instanceof t))return new t(e);this.config=e}return o(t,[{key:"tracker",value:function(t){var e=t.value;"undefined"!=typeof console?(console.log(e),t.success&&setTimeout(t.success,0)):t.failure&&setTimeout(t.failure,0)}}]),t}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),!(this instanceof t))return new t(e);if(!e.url)throw Error("url is required!");this.config=e,this.url=e.url}return o(t,[{key:"tracker",value:function(t){var e=new XMLHttpRequest;e.open("POST",this.url),e.setRequestHeader("Content-Type","application/json"),e.withCredentials=!0,e.onload=t.success,e.onerror=t.failure,e.send(JSON.stringify(t.value))}}]),t}();e.default=i,t.exports=e.default}])});