<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Test events</title>
  <meta name="description" content="Test page">

  <!--<link rel="stylesheet" href="css/styles.css?v=1.0">-->
  <script src="../../lib/Scribe.js"></script>


</head>

<body>

<h1>Test events</h1>

<div>
  <a id="gotost" href="./second.html">Go to second</a>
</div>
<div>
  <a id="laddaom" href="./">Ladda om</a>
</div>

<button onclick="track();">Track custom</button>

<script language="JavaScript">
  var scribe =  new Scribe.Scribe({
    tracker: new Scribe.HttpTracker({"url": "http://localhost:8080/api/v1/events"}),
    trackClicks: false,
    trackHashChanges: true,
    trackElementClicks: true,
    trackPageViews: true,
    waitOnTracker: false
  }, {
    "organizationId": "test-organization",
    "productId": "se.test.product",
    // Optional
    "application": {
      // site http status code
      "statusCode": 200,
      "controller": "start",
      "action": "index"
    }
  },
  {
    "paywayId": "59d1d331996e590006001978",
    "userId": "59d1d331996e590006001978",
    "state": "logged_in",
    "products": [
      "test-product"
    ],
    "position": {
      "lon": 1,
      "lat": 2
    },
    "location": "Stockholm"
  },
  {
    "state": "open",
    "articleId": "1234",
    "section": null,
    "keywords": [
      "test-product",
      "index"
    ]
  }
);

  var track = function() {
    scribe.track("customEvent", {content_keywords: 'should overwrite initialized'});
  }
</script>
</body>
</html>
